{% extends 'skeleton.html' %}

{% load static %}

{% block customized_javascript %}
    <script type="text/javascript" src="{% static 'js/add_host.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/add_host_formset.js' %}"></script>
{% endblock %}

{% block extrahead %}
    <!-- CSS for formset rendering -->
    <link rel="stylesheet" href="{% static 'css/formset.css' %}" />
{% endblock %}


{% block content %}
    <div class="page-header" style="margin-bottom: 20px">
        <h3>You are adding a host to <strong>{{ environment }}</strong> environment</h3>
    </div>


    <form id="myForm" method="post" action="" >
        {% csrf_token %}

            <div style="margin-bottom: 10px">
                <strong> {{ form2.name.label }} :</strong>
                {{ form2.name }}
                <span style="display: inline-block; color: red;">{{ form2.name.errors }}</span> <!-- Errors generated in red if the form is not valid -->
            </div>

            <div style="margin-bottom: 10px">
                <strong> {{ form2.business_application.label }} :</strong>
                {{ form2.business_application }}
                <span style="display: inline-block; color: red;">{{ form2.business_application.errors }}</span> <!-- Errors generated in red if the form is not valid -->
            </div>


        <div style="margin-top: 20px">
            <div style="display: inline-block;"  class="formset">

                {% for form in formset.forms %}
                    {{ form.non_field_errors }}
                    <div class= "role_formset"  style="padding-bottom:6px; border-bottom:1px dotted #ccc; margin-bottom:6px;">
                        <strong>{{ form.role.label }} : </strong>
                        {{ form.role }}
                    </div>
                {% endfor %}
            </div>
            <p>
                {{ formset.management_form }}
                <input type="submit" class="btn btn-s btn-success" value="Add host" style="margin-top: 20px" disabled id="add_host"/>
            </p>
        </div>


    </form>


{% endblock %}